{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/pulga/Documents/MERN/Mernbelt Final/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/pulga/Documents/MERN/Mernbelt Final/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/pulga/Documents/MERN/Mernbelt Final/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./petsDetail.css';import{useEffect,useState}from\"react\";import axios from'axios';import{Link,useParams,useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function PetsDetailPage(){var _useParams=useParams(),id=_useParams.id;var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pet=_useState2[0],setPet=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),likes=_useState4[0],setLikes=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLikeSend=_useState6[0],setLikeSend=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),isLoading=_useState8[0],setLoading=_useState8[1];function getPets(){return _getPets.apply(this,arguments);}function _getPets(){_getPets=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var petResponse;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:3000/pets/\".concat(id));case 2:petResponse=_context.sent;setPet(petResponse.data);setLikes(petResponse.data.likes);setLoading(false);case 6:case\"end\":return _context.stop();}},_callee);}));return _getPets.apply(this,arguments);}function updateLikes(){return _updateLikes.apply(this,arguments);}function _updateLikes(){_updateLikes=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var petResponse;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.patch(\"http://localhost:3000/pets/likes/\".concat(id),{});case 2:petResponse=_context2.sent;if(petResponse.status===200){setLikes(petResponse.data.likes);setLikeSend(true);}case 4:case\"end\":return _context2.stop();}},_callee2);}));return _updateLikes.apply(this,arguments);}function adoptPet(){return _adoptPet.apply(this,arguments);}function _adoptPet(){_adoptPet=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var petResponse;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.delete(\"http://localhost:3000/pets/\".concat(id));case 2:petResponse=_context3.sent;if(petResponse.status===200){navigate('/');}case 4:case\"end\":return _context3.stop();}},_callee3);}));return _adoptPet.apply(this,arguments);}useEffect(function(){getPets();},[]);return/*#__PURE__*/_jsxs(\"div\",{id:\"petDetail\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Pet Shelter\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"back to home\"})]}),isLoading?'Cargando...':/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Details about: \",pet.name]}),/*#__PURE__*/_jsxs(\"button\",{onClick:adoptPet,children:[\"Adopt \",pet.name]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-title\",children:\"Pet type:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:pet.type})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-title\",children:\"Description:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:pet.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-title\",children:\"Skills:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[pet.skillOne&&/*#__PURE__*/_jsx(\"li\",{children:pet.skillOne}),pet.skillTwo&&/*#__PURE__*/_jsx(\"li\",{children:pet.skillTwo}),pet.skillThree&&/*#__PURE__*/_jsx(\"li\",{children:pet.skillThree})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"likes-container\",children:[/*#__PURE__*/_jsxs(\"button\",{disabled:isLikeSend,onClick:updateLikes,children:[\"Like \",pet.name]}),/*#__PURE__*/_jsxs(\"span\",{children:[likes,\" like(s)\"]})]})]})]})]});}export default PetsDetailPage;","map":{"version":3,"names":["useEffect","useState","axios","Link","useParams","useNavigate","PetsDetailPage","id","navigate","pet","setPet","likes","setLikes","isLikeSend","setLikeSend","isLoading","setLoading","getPets","get","petResponse","data","updateLikes","patch","status","adoptPet","delete","name","type","description","skillOne","skillTwo","skillThree"],"sources":["C:/Users/pulga/Documents/MERN/Mernbelt Final/client/src/views/PetsDetailPage/PetsDetailPage.js"],"sourcesContent":["import './petsDetail.css';\nimport {useEffect, useState} from \"react\";\nimport axios from 'axios';\nimport {Link, useParams, useNavigate} from \"react-router-dom\";\n\nfunction PetsDetailPage() {\n    const { id } = useParams();\n    const navigate = useNavigate();\n    const [pet, setPet] = useState([]);\n    let [likes, setLikes] = useState(0);\n    const [isLikeSend, setLikeSend] = useState(false);\n    const [isLoading, setLoading] = useState(true);\n\n    async function getPets() {\n        const petResponse = await axios.get(`http://localhost:3000/pets/${id}`);\n        setPet(petResponse.data);\n        setLikes(petResponse.data.likes);\n        setLoading(false);\n    }\n\n    async function updateLikes() {\n        const petResponse = await axios.patch(`http://localhost:3000/pets/likes/${id}`, {});\n        if(petResponse.status === 200) {\n            setLikes(petResponse.data.likes);\n            setLikeSend(true);\n        }\n    }\n\n    async function adoptPet() {\n        const petResponse = await axios.delete(`http://localhost:3000/pets/${id}`);\n        if(petResponse.status === 200) {\n            navigate('/');\n        }\n    }\n\n    useEffect(() => {\n        getPets();\n    }, []);\n\n    return (\n        <div id=\"petDetail\">\n            <div className=\"header\">\n                <h1>Pet Shelter</h1>\n                <Link to=\"/\">back to home</Link>\n            </div>\n\n            {\n                isLoading ? 'Cargando...' :\n                <>\n                    <div className=\"header\">\n                        <h3>Details about: {pet.name}</h3>\n                        <button onClick={adoptPet}>Adopt {pet.name}</button>\n                    </div>\n                    <div className=\"container-info\">\n                        <div className=\"row\">\n                            <div className=\"col-title\">Pet type:</div>\n                            <div className=\"col\">{pet.type}</div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col-title\">Description:</div>\n                            <div className=\"col\">{pet.description}</div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col-title\">Skills:</div>\n                            <div className=\"col\">\n                                <ul>\n                                    {pet.skillOne && <li>{pet.skillOne}</li>}\n                                    {pet.skillTwo && <li>{pet.skillTwo}</li>}\n                                    {pet.skillThree && <li>{pet.skillThree}</li>}\n                                </ul>\n                            </div>\n                        </div>\n\n                        <div className=\"likes-container\">\n                            <button disabled={isLikeSend} onClick={updateLikes}>Like {pet.name}</button>\n                            <span>{likes} like(s)</span>\n                        </div>\n                    </div>\n                </>\n            }\n        </div>\n    );\n}\n\nexport default PetsDetailPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}